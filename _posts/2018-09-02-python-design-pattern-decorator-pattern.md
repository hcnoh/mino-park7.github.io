---
layout: "post"
title: "파이썬 디자인 패턴 - 구조디자인패턴 - 데코레이터 패턴"
date: "2018-09-02 13:32"
category: python Study
tag: [python, designpattern, 구조디자인패턴]
---




## 2-4. 데코레이터 패턴

* 일반적으로 데코레이터(decorator)는 어떤 함수를 인자로 받아 원래 함수와 이름은 같지만 기능은 더 향상된 함수를 반환하는 함수를 말함
* 데코레이터는 프레임워크에서 프레임 워크과 개발자가 필요로 하는 기능을 **편하게 통합** 하는데 사용
* 파이썬에는 데코레이터 기능을 내장
  - 함수와 메서드에 모두 적용 가능
  - 클래스 데코레이터도 만들 수 있다.
    - 클래스를 유일한 인자로 받아 새로운 기능이 추가된 이름이 같은 새 클래스를 반환
  - 상속 대진 클래스 데코레이터 사용 가능

---

- 파이썬의 내장 `property()` 함수는 데코레이터로 사용 가능
  - 2-3 컴포지트 패턴에서 composite와 price 프로퍼티에서 사용
- 파이썬의 표준 라이브러리에도 몇몇 데코레이터가 들어있음
  - ex) `@functools.total_ordering` 클래스 데코레이터는 `__eq()__` 과 `__lt()__` 특수메서드를 구현한 클래스에 적용가능
    - `total_ordering` 데코레이터를 적용하면 클래스의 이름은 같지만 해당 클래스에서 모든 다른 비교 연산자를 활용 가능

---

- 데코레이터는 한 함수, 메서드, 클래스만을 인자로 받을 수 있다.
- 이론적으로는 데코레이터를 매개변수화 할 수 없다.
- 하지만 데코레이터 함수를 반환하는 데코레이터 팩터리를 만들 수 있고, 이 팩터리는 매개변수를 방을 수 있다.
- 이 데코레이터 팩터리로 만든 데코레이터를 다시 함수, 메서드, 클래스 등에 적용할 수 있다.

---

### 2-4-1. 함수 및 메서드 데코레이터

-
